on:
  push:

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: test default output
        shell: pwsh
        run: |
          $generatedSecret = [guid]::NewGuid().ToString()
          Write-Output "::add-mask::$generatedSecret"
          Add-Content -Path $env:GITHUB_ENV -Value "MY_RUNTIME_SECRET=$generatedSecret"

      - name: test masked output
        shell: pwsh
        run: Write-Host "MY_RUNTIME_SECRET=$env:MY_RUNTIME_SECRET"
